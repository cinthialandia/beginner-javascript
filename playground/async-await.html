<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <title>Async Await</title>
  <link rel="stylesheet" href="../base.css">
</head>

<body>
  <script>
    //To use it, the function performed is equal to the promise in general.
    function wait(ms = 0) {
      return new Promise((resolve) => {
        setTimeout(resolve, ms);
      })
    }

//function pizza 

function makePizza(toppings = []) { // this function recive a parameter  and we put a defoult array 
      // return at first because the promise needs always to be returned wiht something
      return new Promise(function (resolve, reject) { // to make any promise, a function must be made, with a callback that accepts a resolved and rejected parameter
        //Reject if people try with pineapple 
        if (toppings.includes("pineapple")) {
          reject("seriusly?? Gey out ðŸ")
        }
        const amountOfTimeToBake = 500 + (toppings.length * 200);
        // wait 1 second for the pizza to cook 
        setTimeout(function () {
          // when something are ready you can resolve this promise 
          resolve(`here is your pizza ðŸ• with the toppings ${toppings.join("")}`); // resolve part 
        }, amountOfTimeToBake);

        // if something went wrong, we can reject this promise
      });
    }

    //every function that has an await within it, must carry the word asyn so that it can be executed.async function go() {
    async function go() {
      console.log("starting");
      await wait(2000); // This promise works, putting the word await in front of any promise, and the asynchronous function will return
      console.log("running");
      await wait(200);
      console.log("ending")
    }

    //go();

async function makeDinner() {
  const pizza1 = await makePizza(["pepperoni"]);
  console.log(pizza1);
  const pizza2 = await makePizza(["margarita"]);
  console.log(pizza2);
}

makeDinner()




/*
        //types of function
    
        // function declaration
        async function fd() { }
    
        // arrow function
        const arrowFn = async () => { }
    
        // call back
        window.addEventListener("click", async function () { })
    
        //
        const person = {
          //method
          sayHi = async function () {
    
          },
          // method shorthand
          async sayHello() {
    
          },
          //function property
          sayHey: async () => {
    
          }
        }
        */
    //


  </script>
</body>

</html>